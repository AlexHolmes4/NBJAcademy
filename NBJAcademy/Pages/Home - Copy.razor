@page "/2"

<PageTitle>Home</PageTitle>

<div class="page-background" />

<div class="home-hero">
    <h1>Welcome to NBJ Academy</h1>
    <p>Professional, inclusive, and family-focused Brazilian Jiu Jitsu in Perth.</p>
    <a href="/contact-us" class="cta-button">Book a Free Trial</a>
</div>

<section class="home-highlights">
    <h2>Why Choose NBJ Academy</h2>

    <div class="highlights-carousel">
        <button class="carousel-nav prev" @onclick="PrevSlide" aria-label="Previous">‹</button>

        <div class="carousel-track" style="--index:@currentSlide">
            @foreach (var slide in HighlightSlides)
            {
                <div class="carousel-slide">
                    <img src="@slide.Image" alt="@slide.Alt" loading="lazy" />
                    <div class="overlay">
                        <h3>@slide.Title</h3>
                        <p>@slide.Text</p>
                    </div>
                </div>
            }
        </div>

        <button class="carousel-nav next" @onclick="NextSlide" aria-label="Next">›</button>
    </div>

    <div class="carousel-dots">
        @for (var i = 0; i < HighlightSlides.Count; i++)
        {
            <button class="dot @(i == currentSlide ? "active" : "")" @onclick="() => GoToSlide(i)" aria-label="Go to slide @(i + 1)"></button>
        }
    </div>
</section>

<section class="home-coach">
    <h2>Meet Coach Nalloy</h2>
    <p>Brazilian Jiu-Jitsu black belt, educator, and family man. Bringing authentic BJJ with technical excellence, discipline, and respect.</p>
    <a href="/about-us" class="link-button">Learn more</a>
</section>

<section class="home-facilities">
    <h2>Comfort & Facilities</h2>
    <ul>
        <li>Waiting lounge beside the mats</li>
        <li>Coffee and refreshment station</li>
        <li>Dedicated children’s room with toys and books</li>
    </ul>
    <a href="/gallery" class="link-button">See the gallery</a>
</section>

<section class="home-quicklinks">
    <h2>Quick Links</h2>
    <div class="links-grid">
        <a href="/timetable" class="quicklink">Timetable</a>
        <a href="/findus" class="quicklink">Find Us</a>
        <a href="/gallery" class="quicklink">Gallery</a>
        <a href="/contact-us" class="quicklink">Contact</a>
    </div>
</section>

<section class="home-social">
    <h2>Follow Us</h2>
    <a href="https://www.instagram.com/nbjacademy" class="link-button" target="_blank" rel="noopener">Instagram</a>
</section>

@code {
    private int currentSlide = 0;

    private readonly List<HighlightSlide> HighlightSlides = new()
    {
        new("images/gallery/facilities/facilities-1.jpeg", "Training Mats", "Inclusive Coaching", "Adaptive methods for all, including ASD and ADHD."),
        new("images/gallery/kids/kids-1.jpeg", "Kids Class", "Family-Focused", "Welcoming environment with support spaces."),
        new("images/gallery/adults/adults-1.jpeg", "Adult Training", "Experienced Instruction", "15+ years of BJJ, black belt 5+ years."),
        new("images/gallery/team/team-1.jpeg", "NBJ Team", "Community", "Respect, discipline, and purpose on and off the mats.")
    };

    private void NextSlide() => currentSlide = (currentSlide + 1) % HighlightSlides.Count;
    private void PrevSlide() => currentSlide = (currentSlide == 0 ? HighlightSlides.Count - 1 : currentSlide - 1);
    private void GoToSlide(int i) => currentSlide = i;

    private record HighlightSlide(string Image, string Alt, string Title, string Text);
}